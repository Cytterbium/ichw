```
北京大学某单位的某台机器IP地址为162.105.80.160, 子网掩码为255.255.255.192，

1) 该单位的网络号(网络+子网)是多少？

2) 该单位理论上可容纳多少主机？

3) 北大可以有多少个这样的子网(假定北大全部是162.105网段)？
```
答：1） 由二进制表示的子网掩码——11111111 11111111 11111111 11000000——可知网络号（网络加子网）位数为26位，

将此码与二进制表示的IP地址——10100010 01101001 01010000 10100000——进行 与 *（AND）* 运算

得到结果10100010 01101001 01010000 10000000 前二十六位即该单位网络号

2）主机号为六位，则可容纳主机二的六次等于64台  ；可用主机为62台（主机号同时为1或同时为0时分别用作广播地址和网络地址）

3）北大网段为B级，“这样”的子网指有26位网络号的IP地址。北大标准IP地址有16位，则须向主机号借10位达到26位，故这样的子网可以有2的10次方个

即1024个这样的子网

```
解释TCP协议建立连接为什么设计为三步握手（3-way handshake）？
```

由于存在信息传输出错或信息丢失这样的情况，设计出了 *三次握手* 来确认发送端与接受端的同时连接。

第一次握手：客户端向服务器端发送连接请求包SYN（syn=j），等待服务器回应； 若服务器接收到请求包 *这一步客户端无法确定任何东西，服务器端确定对方发送正常*

第二次握手：服务器端将客户端的请求包SYN（syn=j）放入到自己的未连接队列，此时服务器向客户端发送ACK（ack=j+1）和SYN（syn=k）包，进入SYN_RECV状态。
     
   若客户端接受到数据包，则确定对方发送、接受正常，自己发送、接收正常
   这一步客户端确定对方发送、接受正常，自己发送、接收正常，服务器端确定对方发送正常
　　
第三次握手：客户端向服务器发送连接建立的确认包ACK（ack=k+1），回应服务器的SYN（syn=k）。若服务器收到
    则这一步客户端确定对方发送、接受正常，自己发送、接收正常，服务器端确定对方发送、接收正常，自己发送、接受正常
    然后确认建立连接，开始传输数据。https://blog.csdn.net/zixiaomuwu/article/details/60965466
    https://blog.csdn.net/xumin330774233/article/details/14448715
由上可知三步之后才能完全确认两端收发能力正常。若只进行二次握手，可能会有以下情况：当一个失效的请求包传到服务器端时，服务器误以为此刻客户端在请求连接，于是发出ACK包，假设是二次握手，则此时连接已建立。此刻若客户端处于closed状态，则不会接受理睬任何数据包，使得服务器端白白等待，造成资源浪费。因此三次握手是有必要的。那四次握手，五次握手则是多余的，因为大于等于三次的握手都只能确认*当前*传输环境稳定（两军问题无解），故采用三次握手。

