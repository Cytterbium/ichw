```
北京大学某单位的某台机器IP地址为162.105.80.160, 子网掩码为255.255.255.192，

1) 该单位的网络号(网络+子网)是多少？

2) 该单位理论上可容纳多少主机？

3) 北大可以有多少个这样的子网(假定北大全部是162.105网段)？
```
答：1） 由二进制表示的子网掩码——11111111 11111111 11111111 11000000——可知网络号（网络加子网）位数为26位，

将此码与二进制表示的IP地址——10100010 01101001 01010000 10100000——进行 与 *（AND）* 运算

得到结果10100010 01101001 01010000 10000000 前二十六位即该单位网络号

2）主机号为六位，则可容纳主机二的六次等于64台  ；可用主机为62台（主机号同时为1或同时为0时分别用作广播地址和网络地址）

3）北大网段为B级，“这样”的子网指有26位网络号的IP地址。北大标准IP地址有16位，则须向主机号借10位达到26位，故这样的子网可以有2的10次方个

即1024个这样的子网

```
解释TCP协议建立连接为什么设计为三步握手（3-way handshake）？
```

由于存在信息传输出错或信息丢失这样的情况，设计出了 *三次握手* 来确认发送端与接受端的同时连接。

第一次握手：客户端向服务器端发送连接请求包SYN（syn=j），等待服务器回应；  *这一步客户端无法确定任何东西，服务器端确定客户端发送正常*

第二次握手：服务器端收到客户端连接请求包SYN（syn=j）后，将客户端的请求包SYN（syn=j）放入到自己的未连接队列，此时服务器需要发送两个包给客户端；

　　（1）向客户端发送确认自己收到其连接请求的确认包ACK（ack=j+1），向客户端表明已知道了其连接请求

　　（2）向客户端发送连接询问请求包SYN（syn=k），询问客户端是否已经准备好建立连接，进行数据通信；

　　即在第二次握手时服务器向客户端发送ACK（ack=j+1）和SYN（syn=k）包，此时服务器进入SYN_RECV状态。
  这一步客户端
　　
第三次握手：客户端收到服务器的ACK（ack=j+1）和SYN（syn=k）包后，知道了服务器同意建立连接，此时需要发送连接已建立的消息给服务器；

　　向服务器发送连接建立的确认包ACK（ack=k+1），回应服务器的SYN（syn=k）告诉服务器，我们之间已经建立了连接，可以进行数据通信。

　　ACK（ack=k+1）包发送完毕，服务器收到后，此时服务器与客户端进入ESTABLISHED状态，开始进行数据传送。 


